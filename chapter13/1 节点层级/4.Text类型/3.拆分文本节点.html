<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="../../../index.css">
</head>

<body>
  <h1>拆分文本节点</h1>
  <p>Text类型定义了一个与normalize() 相反的方法: spliceText() 。 这个方法可以在指定的偏移位置拆分 nodeValue , 将一个文本节点拆分成两个文本节点 。拆分之后 , 原来的文本节点包含
    开头到偏移位置前的文本 , 新文本节点包含剩下的文本 。 这个方法返回新的文本节点 , 具有与原来的文本节点相同的parentNode 。来看下面的例子:
  </p>
  <code>
    <pre>
    let element = document.createElement('div')
    element.className = 'message'

    let textNode = document.createTextNode('Hello world!')
    element.appendChild(textNode)

    document.body.appendChild(element)

    let newNode = element.firstChild.splitText(5)
    console.log(element.firstChild.nodeValue)
    console.log(newNode.nodeValue)
    console.log(element.childNodes.length)
    console.log(element)

//    Hello
//    world!
//    2
//    div.message
    </pre>
  </code>
  <p>在这个例子中 , 包含"Hello world!"
    的文本节点被从位置5拆分成两个文本节点。位置5对应"He11o"和"world!"之间的空格，因此原始文本节点包含字符串"He1lo"，而新文本节点包含文本world!"(包含空格)。</p>
  <p>拆分文本节点最常用于从文本节点中提取数据的DOM解析技术。</p>
  <script>
    let element = document.createElement('div')
    element.className = 'message'

    let textNode = document.createTextNode('Hello world!')
    element.appendChild(textNode)

    document.body.appendChild(element)

    let newNode = element.firstChild.splitText(5)
    console.log(element.firstChild.nodeValue)
    console.log(newNode.nodeValue)
    console.log(element.childNodes.length)
    console.log(element)
  </script>
</body>

</html>